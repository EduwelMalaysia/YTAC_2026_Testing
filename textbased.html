<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hackathon Challenge</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link rel="stylesheet" href="textbased.css">
</head>

<body>
    <!-- Main Challenge Container  -->
    <div class="challenge-container">
        <div class="challenge-content-wrapper">
            <div class="challenge-sidebar">
                <h5 class="mb-4">Challenges</h5>
                <div id="questionList">
                    <!-- Questions will be populated here -->
                </div>
                <div class="mt-auto pt-3 border-top">
                    <button id="btnEnd" class="btn btn-danger w-100">End Competition</button>
                </div>
            </div>
            <div class="challenge-main">
                <button id="btnToggleSidebar" class="btn btn-light btn-sm toggle-sidebar-btn">‚ùÆ</button>
                <!-- Main Challenge Content Wrapper -->
                <div id="challengeContent">
                    <!-- Section A: Top 20% (User adjusted) -->
                    <div class="section-a">
                        <!-- Question Content (Left 70%) -->
                        <div id="questionContent" class="question-content">
                            <h4>Select a question to start</h4>
                            <p>Click on a question number from the sidebar.</p>
                        </div>

                        <!-- Timer (Right 30%) -->
                        <div class="timer-container">
                            <div id="timerDisplay" class="timer-display">Time: 00:00:00</div>
                        </div>
                    </div>

                    <!-- Section B: Bottom 80% (User adjusted) -->
                    <div class="section-b">
                        <!-- Editor (Left 60%) -->
                        <div class="editor-container">
                            <iframe id="oc-editor" frameBorder="0" width="100%" height="100%"
                                src="https://onecompiler.com/embed/python?listenToEvents=true&codeChangeEvent=true&hideResult=true&hideStdin=true&hideLanguageSelection=true&hideNew=true&hideRun=true&hideResult=true"></iframe>
                        </div>

                        <!-- Controls (Right 40%) -->
                        <div class="controls-container">
                            <div class="buttons-row">
                                <button id="btnRun" class="btn btn-success" disabled>Run Code</button>
                                <button id="btnSubmit" class="btn btn-warning" disabled>Submit Answer</button>
                            </div>

                            <div class="file-upload-container mt-3 mb-2">
                                <label for="fileUpload" class="form-label small mb-1">Optional: Attached Source File
                                    (.py, .js, .xml etc)</label>
                                <input type="file" id="fileUpload" class="form-control form-control-sm">
                            </div>

                            <div class="output-matching">
                                <div class="output-header">Output Result Matching:</div>
                                <textarea id="outputArea" class="form-control output-textarea" readonly></textarea>
                                <div id="matchPercentage" class="match-percentage">Match: 0%</div>
                            </div>

                            <div class="test-case-status">
                                <div class="output-header">Test Case Status:</div>
                                <div class="table-container">
                                    <table class="table table-bordered table-sm">
                                        <thead>
                                            <tr>
                                                <th>Test Case</th>
                                                <th>Description</th>
                                                <th>Status</th>
                                            </tr>
                                        </thead>
                                        <tbody id="testCaseTableBody">
                                            <!-- Rows will be populated by JS -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>
        <div class="advertisement">
            <a href="https://api.whatsapp.com/send?phone=60149756369&text=Hi%2C%20I%20would%20like%20know%20more%20about%20coding%20course%20%2F%20training."
                target="_blank">
                <img src="Ads.png" alt="Advertisement">
            </a>
        </div>
    </div>

    <!-- Start Screen Overlay -->
    <div id="startScreen" class="start-screen">
        <h1>Coding Challenge</h1>
        <p>You have 2 hours to complete question as much as possible.</p>
        <div class="language-selection">
            <div class="mb-3">
                <label for="username" class="form-label">Your Name:</label>
                <input type="text" id="username" class="form-control" placeholder="Enter your name" required>
            </div>
            <label for="languageSelect">Choose Language:</label>
            <select id="languageSelect" class="form-select">
                <option value="python">Python</option>
                <option value="javascript">JavaScript</option>
                <option value="java">Java</option>
                <option value="c">C</option>
                <option value="cpp">C++</option>
                <option value="csharp">C#</option>
                <option value="nodejs">Node.js</option>
                <option value="lua">Lua</option>
                <option value="r">R</option>
                <option value="ruby">Ruby</option>
                <option value="php">PHP</option>
                <option value="blockly">Blockly (Block-Based)</option>
            </select>
        </div>
        <button id="btnStart" class="btn btn-primary">Start Challenge</button>
    </div>

    <!-- Completion Screen Overlay -->
    <div id="completionScreen" class="completion-screen">
        <h2>Congratulations! üéâ</h2>
        <p id="completionMessage">You've completed all 10 challenges!</p>
        <div class="final-time" id="finalTime">Final Time: --</div>
        <div class="mt-4 text-center" id="finalSteps" style="display: none;">
            <p><strong>Final Step:</strong> Please ensure you have downloaded all your work and upload it to the Google
                Form below if required:</p>
            <a href="https://forms.gle/YOUR_FORM_LINK" target="_blank" class="btn btn-info">Upload Work to Google
                Form</a>
            <p class="mt-2 small text-muted">Each time you submitted an answer, a file should have been downloaded
                automatically.</p>
        </div>
    </div>

    <!-- Custom Modal -->
    <div id="customModal" class="modal-overlay">
        <div class="modal-content">
            <h3 id="modalTitle">Title</h3>
            <p id="modalMessage">Message</p>
            <div class="modal-buttons">
                <button id="btnModalCancel" class="btn btn-secondary">Cancel</button>
                <button id="btnModalConfirm" class="btn btn-primary">Confirm</button>
            </div>
        </div>
    </div>

    <script src="textbased.js"></script>
</body>

</html>